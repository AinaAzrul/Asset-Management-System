
  <div class="card ">
    <div class="card-header " >
    <h4>
        Users&nbsp;<span class="badge badge-primary">{{ rows.length }}</span>
        <button style=" padding:8px;margin:15px auto;" class="float-sm-right btn btn-success btn-sm" (click)="openAddUserModal()"><i class="ion ion-md-add"></i>&nbsp;<b>+ Add New User</b></button>
       <input
          class = "float-sm-right form-control form-control-sm"
          type="text"
          style=" padding:8px;margin:15px auto;width:20%;"
          placeholder="Search by first name..."
          (keyup)="updateFilter($event)"
        />
</h4>
</div>
      <!-- <button class="float-sm-right btn btn-primary" (click)="openAddUserModal()"><i class="ion ion-md-add"></i>&nbsp;<b>Add New User</b></button> -->
      <!-- <div class="float-sm-right" style="padding-right: 10px">
        <input [(ngModel)]="filterkey" class="form-control" type='text' placeholder='Filter by ...' (keyup)='updateFilter($event)'>
      </div> <div class="mb-3"  class="form-control form-control-sm">
    </div>-->
      
    
    
    <div class="card-ngx-datatable table-responsive">
      <ngx-datatable #table style="min-width: 550px"
        class="material striped"
        [rows]="rows"
        [loadingIndicator]="loadingIndicator"
        [columnMode]="ColumnMode.force"
        [headerHeight]="43"
        [footerHeight]="'auto'"
        [rowHeight]="'auto'"
        [reorderable]="false"
        [limit]="10"
        (activate)="onActivate($event)"
        >
        <ngx-datatable-column name="Id"  prop="id"></ngx-datatable-column>
        <ngx-datatable-column name="First name"  prop="firstname"></ngx-datatable-column>
        <ngx-datatable-column name="Last name"  prop="lastname"></ngx-datatable-column>
        <ngx-datatable-column name="Email" prop="email"></ngx-datatable-column>
        <ngx-datatable-column name="Role" [maxWidth]="200" prop="role"></ngx-datatable-column>
        <ngx-datatable-column *ngIf="userInfo == 'System Admin'" name="Action" [maxWidth]="200" prop="action_list">
          <ng-template let-row="row" let-value="value" ngx-datatable-cell-template>
            <div *ngIf="row.role!= 'System Admin'" class="btn btn-primary btn-sm" (click)="modifyUserRow(row)"><i class="ion ion-md-create"></i>&nbsp;&nbsp;<b>MODIFY</b></div>
            <!-- <div *ngIf="row.role != 'System Admin'" ><button type="button" class="btn btn-primary btn-sm" data-bs-toggle="modal" data-bs-target="#staticBackdrop" data-whatever="row" (click)=" modifyUserRow(row)">
              Modify 
            </button></div>  -->
           
            <!-- <div *ngIf="row.role != 'System Admin'" class="btn  btn-danger btn-sm" (click)="deleteUserRow(row, $event)"><i class="ion ion-md-close"></i>&nbsp;&nbsp;<b>DELETE</b></div>
             -->
             <!-- <div *ngIf="row.role != 'System Admin'" type="button" class="btn btn-danger btn-sm" data-bs-toggle="modal" data-bs-target="#deletemodal">
              <i class="ion ion-md-create"></i>&nbsp;&nbsp;<b>DELETE</b></div> -->
              <div *ngIf="row.role!= 'System Admin'" class="btn btn-danger btn-sm" (click)="deleteUserRow(row)"><i class="ion ion-md-create"></i>&nbsp;&nbsp;<b>DELETE</b></div>
            </ng-template>
        </ngx-datatable-column>
      </ngx-datatable>
    </div>
</div> 

<!-- Button trigger modal -->


<!-- Modal -->
<div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="staticBackdropLabel">Modal title</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        ...
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary" >Understood</button>
      </div>
    </div>
  </div>
</div><!-- [selected]="selected"
        [selectionType]="SelectionType.single" -->

        <!-- Modal -->
<div class="modal fade" id="deletemodal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="staticBackdropLabel">Modal title</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        ...
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary" (click)="deleteUserRow(row)">Understood</button>
      </div>
    </div>
  </div>
</div>